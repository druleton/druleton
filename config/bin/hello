#!/bin/bash

################################################################################
# Hello is a demonstration of a custom command.
#
# Do not run this command directly from within the config/bin directory; it will
# fail.
################################################################################

# Check if on the proper place (symlinked from within the bin directory).
if [ ! -f "$(dirname $0)/src/bootstrap.sh" ]; then
  echo "ERROR : This script should be called from within the bin directory!"
  echo
  exit 1
fi

# Bootstrap druleton.
source $(dirname $0)/src/bootstrap.sh


# Show some output explaining what the command will do.
echo
markup_h1_divider
markup_h1 " Hello world example command"
markup_h1_divider
markup_h1_li "Running without argument will use 'world' as default."
markup_h1_li "Pass the name by giving it as an argument (eg. bin/hello name)."
markup_h1_divider
echo


# Includes.
source "$DIR_SRC/script.sh"


# START Script -----------------------------------------------------------------

script_before_run

hello_name="$SCRIPT_ARGUMENT"
if [ -z "$hello_name" ]; then
  hello_name="World"
fi

hello_end_of_line="!"
if [ $( option_is_set "--silent" ) -eq 1 ]; then
  hello_end_of_line="."
fi

markup "Hello ${LWHITE}$hello_name${RESTORE}$hello_end_of_line"
echo

script_after_run

# END Script -------------------------------------------------------------------


exit 0
